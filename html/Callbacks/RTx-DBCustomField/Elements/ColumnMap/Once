<%init>

my $code = $COLUMN_MAP->{'CustomField'}->{'value'};

my $new = sub {
	my ($ticket, $dummy, $name) = @_;
	
	my @values = &{ $code }(@_);
	
	my ($id) = RTx::DBCustomField->new()->getConfigByCustomFieldName($name);
	if ($id && scalar(@values) eq 1) {
		return RTx::DBCustomField->new()->getReturnValueSmall($id, $values[0]);
	}
	
	
	
	return @values;
};

$COLUMN_MAP->{'CustomField'}->{'value'} = $new;


</%init>
<%once>
	use RTx::DBCustomField;
</%once>
<%args>
	$COLUMN_MAP => {}
</%args>